#include <stdio.h>
#include <cs50.h>
#include <string.h>
//#define MAX 9

typedef struct
{
    string name;
    int vote;
}
candidate;



int main(int argc, string argv[])
{
//read candidate to candidate_count.name
    candidate candidate_count[argc - 1];
    for(int i = 0; i < argc - 1; i++)
    {
    candidate_count[i].vote = 0;
    }

    for(int i = 0; i < argc - 1; i ++)
    {
        candidate_count[i].name = argv[i+1];
        printf("%s\n", candidate_count[i].name);
    }

//read vote to candidate+
    int n = get_int("Number of voters: ");
    for(int j = 0; j < n; j++)
    {
        string vote_to_who = get_string("voted: ");

        int invalid = 0;
        for(int i = 0; i < argc - 1; i++)
        {

            if(strcmp(vote_to_who,candidate_count[i].name) == 0)
            {
                candidate_count[i].vote += 1;
                invalid += 1;
            }
        }
//invalid vote
        if(invalid == 0)
        {
            printf("invalid vote\n");
        }
    }
// who is winner
    candidate exchange;

    for(int j = 1; j < argc - 1; j++)
    {
        for(int i = 0; i < argc - 2; i++)
        {
            if(candidate_count[i + 1].vote < candidate_count[i].vote)
            {
                exchange = candidate_count[i];
                candidate_count[i] = candidate_count[i + 1];
                candidate_count[i + 1] = exchange;
            }
            //else
            //{
            //    candidate_count[i + 1] = candidate_count[i + 1];
            //}
        }
    }

    for(int i = 0; i < argc - 1; i ++)
    {
        printf("%i ", candidate_count[i].vote);
    }

    int winner_number = 1;
    printf("winner: %s", candidate_count[argc - 2].name);
    for(int i = 1; i < argc - 1; i++)
    {
        if(candidate_count[argc - 2].vote == candidate_count[argc - 2 - i].vote)
        {
            winner_number += 1;
            printf(" and %s", candidate_count[argc - 2 - i].name);
        }
    }
    printf("\n");
    printf("winner_number: %i\n", winner_number);
}